@model ThreatModellingGame.Web.ViewModels.PlayerDetailsViewModel

@{
    ViewBag.Title = Model.PlayerViewModel.Name;
}

@Html.ValidationSummary()

@using (Html.BeginForm("ChangeName", "Player"))
{
    <h2>Your Details</h2>

    @Html.LabelFor(m => m.ChangePlayerNameViewModel.Name)
    @Html.EditorFor(m => m.ChangePlayerNameViewModel.Name)

    <input type="submit" value="Change Name" />
}

<h2>Games currently participating</h2>
@if (Model.PlayerViewModel.Games == null || !Model.PlayerViewModel.Games.Any())
{
    <p>You are not participating in any games at the moment.</p>
}
else
{
    foreach (var game in Model.PlayerViewModel.Games)
    {
        <ul>
            <li>@Html.ActionLink(game.Name, "Index", "Game", new { id = game.Id }, null)</li>
        </ul>
    }
}

<p>
    @Html.ActionLink("Create new Game", "CreateGame", "Game", null, new { @class = "btn btn-lg btn-success" })
</p>